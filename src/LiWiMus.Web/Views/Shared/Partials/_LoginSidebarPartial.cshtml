@using Microsoft.AspNetCore.Identity
@using LiWiMus.Core.Entities
@using Microsoft.AspNetCore.Authorization
@using LiWiMus.Core.Constants
@inject SignInManager<User> _signInManager
@inject UserManager<User> _userManager

@{
    User? currentUser;
    if (_signInManager.IsSignedIn(User) && (currentUser = await _userManager.GetUserAsync(User)) is not null)
    {
        if (User.IsInRole(Roles.Admin.Name))
        {
        }
        <div class="user-sidebar-nav">
            <img src="~/@currentUser.AvatarPath" alt="" class="img-fluid" style="width: 120px; border-radius: 100%"/>
            <div style="padding-top: 7%; padding-bottom : 10%">
                <p class="text-white" style="font-weight: bold; width: 100%; text-align: center; margin: auto; font-size: larger">
                    @currentUser.UserName
                </p>
            </div>
            <div>
                <a class="text-link" asp-area="User" asp-controller="Profile" asp-action="Index">Profile</a>
            </div>
            <div>
                <a class="text-link">Favourites</a>
            </div>
            <div>
                <a class="text-link">My Playlists</a>
            </div>
            <div>
                <a class="text-link">Subscribers</a>
            </div>
        </div>
    }
    else
    {
        <div class="login-buttons text-white">
            <button class="btn btn-success" style="margin: 15px; border-radius: 50px;">Log In</button>
            <button class="btn btn-link" style="margin: 15px; border-radius: 50px;">Sign Up</button>
        </div>
    }
}