@using LiWiMus.Web.MVC.Areas.User.ViewModels
@model LiWiMus.Web.MVC.Areas.Music.ViewModels.PlaylistViewModel

@{
    ViewBag.Title = "Add tracks";
    Layout = "_LayoutSidebar";
}

@section Header{
    <partial name="Partials/_PlainHeaderPartial"/>
}

<div class="editor-wrap">
    <div>
        <h2 class="your-profile-header">
            Add tracks to playlist
        </h2>
    </div>
    <section class="edit-inputs-group">
        @foreach (var track in Model.Tracks)
        {
            <p>@track.Name</p>

            <form class="form-add-track-to-playlist" method="post" asp-action="AddOrRemoveTrack">
                <input type="hidden" name="@nameof(TrackPlaylistViewModel.TrackId)" value="@track.Id">
                <input type="hidden" name="@nameof(TrackPlaylistViewModel.PlaylistId)" value="@Model.Id">
                <input type="submit" class="edit-button" value="Remove">
            </form>
        }

        <form id="search-tracks-to-playlist" method="get" asp-action="Search">
            <div class="label-input">
                <input type="text" class="form-control" name="@nameof(SearchForPlaylistViewModel.Title)"/>
                <input type="hidden" name="@nameof(SearchForPlaylistViewModel.PlaylistId)" value="@Model.Id"/>
            </div>
            <div>
                <button class="edit-button">Search</button>

            </div>
        </form>

        <div id="tracks-to-playlist">

        </div>
    </section>
</div>

@section Scripts
{
    <script src="~/js/playlist.js"></script>
}